<div class="locations-modal">
  <div class="dis-flex heading-container">
    <h2 class="heading" id="hierarchyLocationListHeading">
      {{
        'selectHierarchyType'
          | translate
            : {
                type: 'Locations'
              }
      }}
    </h2>
  </div>
  <div class="search">
    <span>
      <mat-form-field class="width-100" appearance="outline">
        <mat-icon id="hierarchyLocationListSearchIcon" matPrefix class="icon"
          >search</mat-icon
        >
        <input
          id="hierarchyLocationListSearchText"
          matInput
          [placeholder]="'searchLocation' | translate"
          class="width-100"
          autocomplete="off"
          [formControl]="searchLocations"
        />
      </mat-form-field>
    </span>
  </div>
  <div class="list-container">
    <div *ngIf="allItems.length; else loadingLocations" class="node-container">
      <mat-checkbox
        id="hierarchyLocationListSelectAll"
        class="master-checkbox"
        [(ngModel)]="isMasterChecked"
        [indeterminate]="multipleSelected()"
        (change)="handleMasterToggle($event)"
        color="primary"
        >{{ 'selectAll' | translate }}</mat-checkbox
      >

      <hr class="borders" />
      <div *ngIf="searchFilterItems.length; else noResults">
        <div *ngFor="let location of searchFilterItems">
          <app-hierarchy-node
            [nodeData]="location"
            [selectedList]="selectedHierarchyList"
            [isMasterChecked]="isMasterCheckedData"
            (checkboxToggleHandler)="handleNodeToggle($event)"
            [mode]="'selectLocations'"
          ></app-hierarchy-node>
        </div>
      </div>
      <ng-template #noResults
        ><p id="hierarchyLocationListNoResult" class="no-results-text">
          {{ 'noResults' | translate }}
        </p></ng-template
      >
    </div>
  </div>

  <div class="locations-footer">
    <div id="hierarchyLocationListCount" class="selected-items">
      {{
        'selectedLocations'
          | translate
            : {
                count: selectedItems.length
              }
      }}
    </div>

    <div mat-dialog-actions class="actions">
      <button
        id="hierarchyLocationListCancelBtn"
        mat-stroked-button
        class="cancel-btn"
        mat-dialog-close="true"
        translate="Cancel"
        (click)="cancel()"
      ></button>
      <button
        id="hierarchyLocationListNextBtn"
        mat-raised-button
        class="next-btn"
        translate="Next"
        [disabled]="selectedItems.length < 1"
        (click)="submitSelectedLocations()"
      ></button>
    </div>
  </div>
</div>

<ng-template #loadingLocations>
  <div class="ghost-loading">
    <div>
      <ngx-shimmer-loading [width]="'100%'" [height]="'40px'">
      </ngx-shimmer-loading>
    </div>
  </div>
</ng-template>
