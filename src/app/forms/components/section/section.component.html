<div
  class="section dis-flex"
  [formGroup]="sectionForm"
  *ngIf="{
    section: section$ | async,
    sectionsCount: sectionsCount$ | async
  } as props"
>
  <div class="width-5"></div>
  <div class="width-95 section-margin">
    <div>
      <input type="hidden" formControlName="position" />
      <div class="section-header">
        <img
          src="assets/rdf-forms-icons/six-dots-white.svg"
          alt="six-dots"
          class="m-l-10 six-dots"
          *ngIf="isSectionOpenState === false"
        />
        <mat-icon
          (click)="toggleSectionOpenState()"
          *ngIf="isSectionOpenState === true"
          class="section-arrow"
        >
          expand_more
        </mat-icon>
        <mat-icon
          (click)="toggleSectionOpenState()"
          *ngIf="isSectionOpenState === false"
          class="section-arrow"
        >
          chevron_right
        </mat-icon>

        <a>
          <input
            #sectionName
            type="text"
            autofocus
            formControlName="name"
            [size]="sectionName.value !== '' ? getSize(sectionName.value) : 6"
            class="form_section_name_input"
            placeholder="Untitled Section"
            autocomplete="off"
            (keyup.enter)="sectionForm.get('name').disable()"
          />
          <button
            mat-icon-button
            (click)="editSection()"
            class="edit-icon"
            *ngIf="sectionForm.get('name').disabled === true"
          >
            <img
              src="assets/rdf-forms-icons/edit-icon-white.svg"
              alt="edit-icon"
              class="edit-icon-img"
            />
          </button>
        </a>

        <button
          [matMenuTriggerFor]="sectionMenu"
          class="more-icon"
          aria-label="More Options"
        >
          <mat-icon>more_horiz</mat-icon>
        </button>
        <mat-menu #sectionMenu="matMenu">
          <button
            mat-menu-item
            (click)="deleteSection()"
            class="text-red"
            [disabled]="props.sectionsCount === 1"
          >
            <span translate="deleteSection"></span>
          </button>
        </mat-menu>
      </div>
      <div *ngIf="isSectionOpenState === true" class="questions-content">
        <ng-content></ng-content>
      </div>

      <button class="add-section-btn" (click)="addSection()">
        <img
          src="assets/rdf-forms-icons/add-section.svg"
          alt="add section"
          class="add-section-btn-icon"
        />
        {{ 'addSection' | translate }}
      </button>
    </div>
  </div>
</div>
