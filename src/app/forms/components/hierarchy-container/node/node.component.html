<div
  class="parentNode node"
  (click)="setSelectedNode(node)"
  [ngClass]="{ active: selectedNode.id === node.id }"
>
  <div class="left">
    <img src="assets/rdf-forms-icons/form-image-upload.svg" />
    <div class="description">
      <span>{{ node.name }}</span>
      <!-- <span> &lt; Additional Field: Value &gt; </span> -->
    </div>
  </div>
  <div class="right">
    <span> {{ getTasksCountByNodeId(node.id) }} </span>
    <span
      [matMenuTriggerFor]="hierarchyMenu"
      class="more-icon"
      aria-label="More Options"
    >
      <mat-icon>more_horiz</mat-icon>
    </span>
    <mat-menu #hierarchyMenu="matMenu" xPosition="before">
      <button
        mat-menu-item
        class="text-red"
        (click)="onRemoveNode($event, node)"
      >
        <span>Delete</span>
      </button>
    </mat-menu>
  </div>
</div>
<div *ngIf="node.hasChildren" class="children">
  <div
    class="childrenHead"
    [ngClass]="{ inactive: !assetHierarchyUtil.getAssetCountByNode(node) }"
  >
    <span class="expandCollapseBtn" (click)="node.isExpanded = !node.isExpanded"
      ><mat-icon [ngClass]="{ 'rotate-270': !node.isExpanded }"
        >expand_circle_down</mat-icon
      ></span
    >
    <span>{{ assetHierarchyUtil.getAssetCountByNode(node) }} Assets</span>
  </div>
  <div
    *ngIf="node.isExpanded"
    [ngClass]="{ displayInlineBlock: !node.isExpanded }"
  >
    <app-node
      [node]="node"
      *ngFor="let node of node.children"
      (nodeRemoved)="removeNodeHandler($event)"
    ></app-node>
  </div>
</div>
