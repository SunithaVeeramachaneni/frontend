<div class="import-questions-modal">
  <div class="dis-flex heading-conatiner">
    <h2 class="heading" translate>formsThatWillReflectChanges</h2>
    <mat-icon class="clear-icon" mat-dialog-close="true">clear</mat-icon>
  </div>
  <div class="custom-form-field-gray-color search">
    <mat-form-field class="width-100" appearance="outline">
      <mat-icon matPrefix class="searchIcon">search</mat-icon>
      <input
        matInput
        type="text"
        [placeholder]="'searchForms' | translate"
        autocomplete="off"
        [formControl]="searchForm"
      />
    </mat-form-field>
  </div>
  <div *ngIf="isLoading$ | async">
    <div *ngFor="let number of ghostLoading">
      <ngx-shimmer-loading [width]="'100%'" [height]="'40px'">
      </ngx-shimmer-loading>
    </div>
  </div>

  <div *ngIf="forms$ | async">
    <div *ngIf="(isLoading$ | async) === false">
      <cwp-dynamictable
        [dataSource]="dataSource"
        [configOptions]="configOptions"
        class="width-100"
      ></cwp-dynamictable>
    </div>
  </div>
  <div
    *ngIf="(formsListCount$ | async) === 0 && (isLoading$ | async) === false"
    class="no-affected-forms"
  >
    <svg-icon icon="icon-frame" class="affected-icon"></svg-icon>
    <span class="affected-text" translate
      >formsWillAppearOnceTemplateIsLinked</span
    >
  </div>
  <div mat-dialog-actions class="actions">
    <div>
      <div *ngIf="(isLoading$ | async) === false" class="form-count">
        {{ affectedFormsCount }}
        <span translate>affectedForms</span>
      </div>
    </div>
    <div>
      <button
        mat-stroked-button
        mat-dialog-close="true"
        translate="cancel"
        class="close-btn"
      ></button>
      <button
        mat-raised-button
        (click)="markTemplateAsReady()"
        translate="done"
        class="select-btn"
        [disabled]="(formLoaded$ | async) !== true"
      ></button>
    </div>
  </div>
</div>
