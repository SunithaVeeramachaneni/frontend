<div class="list-view">
  <div class="main-container">
    <div class="forms-header">
      <h2 class="heading" translate="submissions"></h2>
      <span class="custom-form-field-gray-color search">
        <span
          class="no-of-forms"
          *ngIf="submissionFormsListCount$ | async as totalCount"
        >
          <span class="forms-count">
            {{ totalCount }}
          </span>
          <span class="forms-text">{{
            'submissions'
              | translate
                : {
                    count: totalCount || 0
                  }
          }}</span>
        </span>

        <mat-form-field appearance="outline">
          <mat-icon matPrefix class="searchIcon">search</mat-icon>
          <input
            matInput
            type="text"
            [placeholder]="'searchForms' | translate"
            autocomplete="off"
            [formControl]="searchForm"
          />
          <img
            [src]="filterIcon"
            matSuffix
            cdkOverlayOrigin
            class="common-filter-icon"
            alt="Open Filter"
            #trigger="cdkOverlayOrigin"
            (click)="isPopoverOpen = !isPopoverOpen"
          />
        </mat-form-field>
      </span>
      <ng-template
        *ngIf="false"
        cdkConnectedOverlay
        cdkConnectedOverlayPanelClass="custom-popover"
        cdkConnectedOverlayBackdropClass="cdk-overlay-transparent-backdrop"
        [cdkConnectedOverlayHasBackdrop]="true"
        [cdkConnectedOverlayOpen]="isPopoverOpen"
        [cdkConnectedOverlayOrigin]="trigger"
        cdkConnectedOverlayWidth="400px"
        (backdropClick)="isPopoverOpen = false"
      >
        <div class="filter-modal custom-form-field-white-color">
          <div class="m-b-10 filter-header">
            <span class="filter-modal-heading">{{ 'filter' | translate }}</span>
            <button
              class="filter-modal-cancel"
              (click)="isPopoverOpen = false"
              aria-label="Close Filter"
            >
              <img [src]="closeIcon" alt="Close Filter" />
            </button>
          </div>
          <div>{{ 'filters' | translate }}</div>
        </div>
      </ng-template>
    </div>

    <div *ngIf="formSubmissions$ | async as forms; else loadingSubmissionForms">
      <cwp-dynamictable
        [dataSource]="dataSource"
        [configOptions]="configOptions"
        (fetchDataCallback)="handleTableEvent($event)"
        class="width-100"
      ></cwp-dynamictable>
    </div>
  </div>

  <ng-template #loadingSubmissionForms>
    <div class="padding-lr-20">
      <div *ngFor="let number of ghostLoading">
        <ngx-shimmer-loading [width]="'100%'" [height]="'40px'">
        </ngx-shimmer-loading>
      </div>
    </div>
  </ng-template>
</div>
