<div class="import-questions-modal">
  <div
    class="dis-flex"
    style="justify-content: space-between; padding: 10px 10px 0 15px"
  >
    <h2 class="heading">Select Form</h2>
    <mat-icon class="clear-icon" mat-dialog-close="true">clear</mat-icon>
  </div>
  <div style="margin: 0 15px" [formGroup]="searchForm">
    <mat-form-field class="width-100" appearance="outline">
      <input
        matInput
        placeholder="Search"
        style="width: 100%"
        autocomplete="off"
        formControlName="search"
      />
      <mat-icon matSuffix style="position: relative; top: 3px">search</mat-icon>
    </mat-form-field>
  </div>
  <div
    *ngIf="formsData$ | async as forms; else loadingForms"
    (scroll)="onFormsListScrolled($event)"
    style="height: 315px; overflow-y: auto"
  >
    <div
      *ngFor="let form of forms.data; let i = index"
      class="dis-flex"
      style="border-bottom: 1px solid #d3d3d3"
    >
      <li
        class="selected-list-element"
        (click)="selectListItem(form, i)"
        [ngClass]="{ active: selectedItem === i }"
      >
        <div class="width-70">
          <p class="form-name">{{ form.name }}</p>
          <p class="form-des">{{ form.description }}</p>
        </div>
        <div class="width-30">
          <p class="no-of-ques">{{ form.countOfQues }} Questions</p>
        </div>
      </li>
    </div>
    <div
      class="dis-flex no-records"
      style="background: white; justify-content: center"
      *ngIf="forms.data.length === 0"
    >
      No results
    </div>
  </div>

  <div mat-dialog-actions style="float: right; margin-right: 15px">
    <button
      mat-raised-button
      color="primary"
      [disabled]="disableSelectBtn"
      (click)="selectFormElement()"
    >
      Select
    </button>
    <button mat-stroked-button mat-dialog-close="true">Close</button>
  </div>
</div>

<ng-template #loadingForms>
  <div style="padding: 0 15px">
    <ngx-shimmer-loading
      [width]="'100%'"
      [height]="'40px'"
    ></ngx-shimmer-loading>
    <ngx-shimmer-loading
      [width]="'100%'"
      [height]="'40px'"
    ></ngx-shimmer-loading>
    <ngx-shimmer-loading
      [width]="'100%'"
      [height]="'40px'"
    ></ngx-shimmer-loading>
    <ngx-shimmer-loading
      [width]="'100%'"
      [height]="'40px'"
    ></ngx-shimmer-loading>
    <ngx-shimmer-loading
      [width]="'100%'"
      [height]="'40px'"
    ></ngx-shimmer-loading>
    <ngx-shimmer-loading
      [width]="'100%'"
      [height]="'40px'"
    ></ngx-shimmer-loading>
    <ngx-shimmer-loading
      [width]="'100%'"
      [height]="'40px'"
    ></ngx-shimmer-loading>
  </div>
</ng-template>
